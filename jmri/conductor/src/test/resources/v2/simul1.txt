#
# Project: Conductor
# Copyright (C) 2017 alf.labs gmail com,
#
#  This program is free software: you can redistribute it and/or modify
#  it under the terms of the GNU General Public License as published by
#  the Free Software Foundation, either version 3 of the License, or
#  (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
#  You should have received a copy of the GNU General Public License
#  along with this program.  If not, see <http://www.gnu.org/licenses/>.
#

# sensors

Sensor B310         = NS768      # 49:1
Sensor B311         = NS769      # 49:2
Sensor B320         = NS770      # 49:3
Sensor B321         = NS771      # 49:4
Sensor B330         = NS773      # 49:6
Sensor B340         = NS774      # 49:7
Sensor B360         = NS775      # 49:8
Sensor B370         = NS776      # 49:9

Sensor PA-Toggle    = NS784      # 50:1
Sensor PA-Run3      = NS785      # 50:2
Sensor B503a        = NS786      # 50:3, B503a
Sensor B503b        = NS787      # 50:4, B503b


Throttle PA-CONSIST = 204

# ---------

String Simulator-1 = '''
Throttle PA-CONSIST

# Station
Stop
Set  On B503b
Wait On PA-Toggle; Wait On PA-Run3; Wait 8s

# Going up
Set On B503a; Set Off B503b; Wait 8s

Set Off B503a; Wait 4s
Set On B311; Wait 8s

# Midstation horn is at 321+27s
Set Off B311; Set On B321; Wait 30s

# Curve slow down is at 330+12, horn at 330+26
Set On B330; Set Off B321; Wait 30s

Set On B340; Set Off B330; Wait 8s
Set On B350; Set Off B340; Wait 8s
Set On B360; Set Off B350; Wait 8s

# Summit slow down at 370+9, stop at +14, reverse at +22
Set On B370; Set Off B360; Wait 40s

# Going down

# Full reverse down at 360+12
Set On  B360; Set Off B370; Wait 40s
Set On  B350; Set Off B360; Wait 8s
Set On  B340; Set Off B350; Wait 8s
Set On  B330; Set Off B340; Wait 8s
Set On  B321; Set Off B330; Wait 30s
Set On  B311; Set Off B321; Wait 30s
Set On B311; Wait 4s
Set On B503a; Wait 8s
# Station stop at 503b+10
Set Off B503a; Set On B503b; Wait 15s
End
'''
